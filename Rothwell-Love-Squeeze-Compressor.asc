Version 4
SHEET 1 3852 5064
WIRE 0 1808 -176 1808
WIRE 96 1840 48 1840
WIRE 240 1840 96 1840
WIRE 272 1840 240 1840
WIRE 416 1840 352 1840
WIRE 448 1840 416 1840
WIRE 528 1840 512 1840
WIRE 592 1840 528 1840
WIRE -176 1920 -176 1808
WIRE 592 1920 592 1840
WIRE 416 1936 416 1840
WIRE 432 1936 416 1936
WIRE 528 1936 528 1840
WIRE 528 1936 512 1936
WIRE -144 1968 -176 1968
WIRE 0 1968 0 1904
WIRE 0 1968 -80 1968
WIRE 144 1968 0 1968
WIRE 240 1968 240 1840
WIRE 240 1968 224 1968
WIRE 416 1984 416 1936
WIRE 528 1984 528 1936
WIRE -176 2000 -176 1968
WIRE 112 2048 -32 2048
WIRE 416 2064 416 2048
WIRE 528 2064 528 2048
WIRE 528 2064 416 2064
WIRE 416 2080 416 2064
WIRE -624 2128 -672 2128
WIRE -176 2128 -176 2080
WIRE -144 2128 -176 2128
WIRE -32 2128 -32 2048
WIRE -32 2128 -64 2128
WIRE 0 2128 -32 2128
WIRE 112 2128 112 2048
WIRE 112 2128 80 2128
WIRE 256 2144 160 2144
WIRE 160 2176 160 2144
WIRE 256 2176 256 2144
WIRE 416 2176 416 2144
WIRE -672 2192 -736 2192
WIRE -624 2192 -624 2128
WIRE -624 2192 -672 2192
WIRE -592 2192 -624 2192
WIRE -464 2192 -512 2192
WIRE -400 2192 -464 2192
WIRE -304 2192 -400 2192
WIRE -176 2224 -176 2128
WIRE -16 2224 -176 2224
WIRE 112 2224 112 2128
WIRE 112 2224 64 2224
WIRE -672 2256 -672 2192
WIRE -464 2256 -464 2192
WIRE -400 2256 -400 2192
WIRE 160 2288 160 2240
WIRE -176 2304 -176 2224
WIRE -112 2304 -176 2304
WIRE 112 2304 112 2224
WIRE 112 2304 -48 2304
WIRE 256 2304 256 2256
WIRE 288 2304 256 2304
WIRE 416 2304 416 2256
WIRE 416 2304 368 2304
WIRE -672 2368 -672 2320
WIRE -464 2368 -464 2336
WIRE -400 2368 -400 2320
WIRE -176 2368 -176 2304
WIRE -16 2368 -176 2368
WIRE 112 2368 112 2304
WIRE 112 2368 48 2368
WIRE 352 2368 320 2368
WIRE -736 2384 -736 2192
WIRE 320 2400 320 2368
WIRE 256 2416 256 2304
WIRE 288 2416 256 2416
WIRE 416 2432 416 2304
WIRE 416 2432 352 2432
WIRE -176 2448 -176 2368
WIRE -128 2448 -176 2448
WIRE 112 2448 112 2368
WIRE 112 2448 -64 2448
WIRE 288 2448 256 2448
WIRE -736 2496 -736 2464
WIRE -16 2496 -48 2496
WIRE 320 2512 320 2464
WIRE -48 2528 -48 2496
WIRE -176 2544 -176 2448
WIRE -80 2544 -176 2544
WIRE 112 2560 112 2448
WIRE 112 2560 -16 2560
WIRE 160 2560 112 2560
WIRE 256 2560 256 2448
WIRE 256 2560 224 2560
WIRE 352 2560 256 2560
WIRE 464 2560 432 2560
WIRE -544 2576 -560 2576
WIRE -496 2576 -544 2576
WIRE -384 2576 -416 2576
WIRE -320 2576 -384 2576
WIRE -272 2576 -320 2576
WIRE -176 2576 -208 2576
WIRE -80 2576 -176 2576
WIRE -736 2608 -736 2560
WIRE -48 2640 -48 2592
WIRE 112 2640 112 2560
WIRE -560 2656 -560 2576
WIRE -384 2672 -384 2576
WIRE -320 2672 -320 2576
WIRE -176 2672 -176 2576
WIRE 112 2752 112 2704
WIRE 192 2752 112 2752
WIRE 304 2752 272 2752
WIRE 336 2752 304 2752
WIRE 480 2752 416 2752
WIRE -176 2784 -176 2752
WIRE -736 2800 -736 2688
WIRE -560 2800 -560 2736
WIRE -384 2800 -384 2736
WIRE -320 2800 -320 2752
WIRE 304 2800 304 2752
WIRE 480 2800 480 2752
FLAG -384 2800 0
FLAG -544 2576 IN
FLAG -48 2640 0
FLAG -16 2496 VA
FLAG -736 2800 0
FLAG -560 2800 0
FLAG -320 2800 0
FLAG -176 2784 VB
FLAG 464 2560 VB
FLAG 320 2512 0
FLAG 352 2368 VA
FLAG 160 2288 0
FLAG 592 1920 0
FLAG -176 1920 0
FLAG 480 2800 0
FLAG -672 2368 0
FLAG -672 2128 VA
FLAG -464 2368 0
FLAG -400 2368 0
FLAG -304 2192 VB
FLAG 304 2800 COMP
FLAG 96 1840 Gate
SYMBOL voltage -560 2640 R0
WINDOW 0 -55 9 Left 2
WINDOW 123 -92 105 Left 2
WINDOW 3 -84 -657 Left 2
SYMATTR InstName V1
SYMATTR Value2 AC 1 0
SYMATTR Value wavefile="C:\test.wav" chan=0
SYMBOL OpAmps\\TL072 -48 2496 R0
SYMATTR InstName U1
SYMBOL res -160 2144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -4 102 VBottom 2
SYMATTR InstName R13
SYMATTR Value {10k - Rcomp + 1}
SYMBOL res -16 2144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 128 57 VBottom 2
SYMATTR InstName R14
SYMATTR Value {Rcomp+ 1}
SYMBOL schottky 512 2048 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 176 2736 M90
WINDOW 3 43 35 VTop 2
WINDOW 0 0 56 VBottom 2
SYMATTR Value {Rlevel+ 1}
SYMATTR InstName R28
SYMBOL res 320 2736 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -70 64 VTop 2
SYMATTR InstName R29
SYMATTR Value {10k - Rlevel + 1}
SYMBOL voltage -736 2592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 9
SYMBOL res -400 2560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 200
SYMBOL cap -368 2672 M0
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL res -336 2656 R0
SYMATTR InstName R3
SYMATTR Value 1000K
SYMBOL cap -208 2560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C16
SYMATTR Value 33n
SYMBOL res -192 2656 R0
SYMATTR InstName R4
SYMATTR Value 1000K
SYMBOL cap -64 2432 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 15n
SYMBOL LED -16 2384 R270
WINDOW 0 -27 70 VTop 2
WINDOW 3 0 6 VBottom 2
SYMATTR InstName D3
SYMATTR Value LedRed
SYMBOL LED -48 2288 R90
WINDOW 0 -11 -5 VBottom 2
WINDOW 3 -38 60 VTop 2
SYMATTR InstName D4
SYMATTR Value LedRed
SYMBOL res 80 2208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 5K1
SYMBOL res -160 1984 M0
SYMATTR InstName R6
SYMATTR Value 22
SYMBOL polcap -144 1984 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMATTR Value 100µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=36m Rser=3.5 Lser=0
SYMBOL cap 160 2544 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1.5n
SYMBOL OpAmps\\TL072 320 2368 R0
SYMATTR InstName U5
SYMBOL res 336 2576 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL res 384 2288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 39K
SYMBOL res 240 2160 R0
SYMATTR InstName R8
SYMATTR Value 10K
SYMBOL cap 144 2176 R0
SYMATTR InstName C5
SYMATTR Value 0.22µ
SYMATTR SpiceLine V=4 Irms=3.56 Rser=0.0381287 Lser=0 mfg="KEMET" pn="C0402C224K7PAC" type="X5R"
SYMBOL res 432 2160 M0
SYMATTR InstName R9
SYMATTR Value 22
SYMBOL polcap 432 2144 R180
WINDOW 0 24 57 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C6
SYMATTR Value 10µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=36m Rser=3.5 Lser=0
SYMBOL schottky 432 1984 M0
SYMATTR InstName D1
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 528 1920 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10K
SYMBOL polcap 512 1824 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 10µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=36m Rser=3.5 Lser=0
SYMBOL res 368 1824 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1000K
SYMBOL njf 48 1904 R180
SYMATTR InstName J1
SYMATTR Value J2N5457
SYMBOL res 240 1952 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1000K
SYMBOL polcap 96 2640 R0
SYMATTR InstName C8
SYMATTR Value 10µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=36m Rser=3.5 Lser=0
SYMBOL schottky -752 2560 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -720 2368 M0
SYMATTR InstName R16
SYMATTR Value 22
SYMBOL res -496 2176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 39K
SYMBOL polcap -688 2256 R0
SYMATTR InstName C9
SYMATTR Value 100µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=36m Rser=3.5 Lser=0
SYMBOL res -448 2352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R18
SYMATTR Value 47K
SYMBOL polcap -416 2256 R0
SYMATTR InstName C10
SYMATTR Value 100µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=36m Rser=3.5 Lser=0
TEXT -592 2072 Left 2 !.param Rcomp=8k
TEXT -592 2104 Left 2 !.param Rlevel=5k
TEXT -592 2048 Left 2 !.tran 0 {track length} 0 1u
TEXT -736 2016 Left 2 !.wave "C:\\Output.wav" 16 44100 COMP
TEXT -376 2072 Left 2 ;/10K
TEXT -376 2104 Left 2 ;/10K
